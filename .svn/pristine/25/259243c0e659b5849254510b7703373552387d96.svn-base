
	<!DOCTYPE html>
<html>
	<head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
        <meta name="viewport" content="width=device-width,initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-touch-fullscreen" content="yes">
        <meta name="format-detection" content="telephone=no">
        <title>生肖配对</title>
        <!--[if lt IE 9]>  
            <script src="http://cdn.bootcss.com/html5shiv/r29/html5.js"></script>
            <script src="https://cdn.bootcss.com/respond.__PUBLIC__/js/1.4.2/respond.min.js"></script>    
        <![endif]-->
        <link rel="stylesheet" href="__PUBLIC__/css/_zodiac_peidui.css">
        <script src="__PUBLIC__/js/rem.js"></script>
        <script src="__PUBLIC__/js/jquery.min.js" type="text/javascript"></script> 
        <script type="text/javascript" src="__PUBLIC__/js/iscroll.js"></script>
	</head> 
    <body onload="loaded()">		  
		<div class="main-container">
            <header>
                <ul class="nav-wrap">
                    <li><a href="<!--{:U('Zodiac/xzpeidui','',false)}-->" class="nav-a"><span>星座配对</span></a> </li>
                    <li><a href="<!--{:U('Zodiac/namepd','',false)}-->"  class="nav-a active"><span>姓名配对</span></a></li>
                </ul>
            </header> 
            <div class="main-wrap">
                <div class="head-wrap">
                    <img src="__PUBLIC__/images/zodiac/sx-logo.png" class="head-logo" />
                    <img src="__PUBLIC__/images/zodiac/sxpd.png" class="head-title-img" />
                </div>
                <div id="select-container">
                    <div class="help-tip">滑动选择你和TA的生肖</div>
                    <div class="select-title">
                        <div class="gt-wrap">
                            <img src="__PUBLIC__/images/zodiac/sxgirl.png" class="title-img" />
                        </div>
                        <div class="null-space"></div>
                        <div class="bt-warp">
                            <img src="__PUBLIC__/images/zodiac/sxboy.png" class="title-img" />
                        </div>
                    </div>
                    <div class="select-wrap">
                        <div id="wrapper-g" class="sel-girl">
                            <div id="scroller-g" class="scroller">
                                <ul class="ul-g">
                                    <li><img src="__PUBLIC__/images/zodiac/sx12.png" class="li-img" /> <span class="li-span"> 亥猪</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx1.png" class="li-img" /> <span class="li-span"> 子鼠</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx2.png" class="li-img" /> <span class="li-span"> 丑牛</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx3.png" class="li-img" /> <span class="li-span">寅虎</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx4.png" class="li-img" /> <span class="li-span"> 卯兔</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx5.png" class="li-img" /> <span class="li-span"> 辰龙</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx6.png" class="li-img" /> <span class="li-span">巳蛇</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx7.png" class="li-img" /> <span class="li-span"> 午马</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx8.png" class="li-img" /> <span class="li-span"> 未羊</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx9.png" class="li-img" /> <span class="li-span"> 申猴</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx10.png" class="li-img" /> <span class="li-span">酉鸡</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx11.png" class="li-img" /> <span class="li-span">戌狗</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx12.png" class="li-img" /> <span class="li-span"> 亥猪</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx1.png" class="li-img" /> <span class="li-span"> 子鼠</span></li>
                                </ul>
                            </div>
                            <div class="cui-mask"></div>
                        </div>
                        <div class="sel-tip">
                            <span class="arrow-left"></span><span style="vertical-align: middle;">VS</span><span class="arrow-right"></span>
                        </div>
                        <div id="wrapper-b" class="sel-boy">
                            <div id="scroller-b" class="scroller">
                                <ul class="ul-b">
                                    <li><img src="__PUBLIC__/images/zodiac/sx12.png" class="li-img" /> <span class="li-span"> 亥猪</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx1.png" class="li-img" /> <span class="li-span"> 子鼠</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx2.png" class="li-img" /> <span class="li-span"> 丑牛</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx3.png" class="li-img" /> <span class="li-span">寅虎</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx4.png" class="li-img" /> <span class="li-span"> 卯兔</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx5.png" class="li-img" /> <span class="li-span"> 辰龙</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx6.png" class="li-img" /> <span class="li-span">巳蛇</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx7.png" class="li-img" /> <span class="li-span"> 午马</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx8.png" class="li-img" /> <span class="li-span"> 未羊</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx9.png" class="li-img" /> <span class="li-span"> 申猴</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx10.png" class="li-img" /> <span class="li-span">酉鸡</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx11.png" class="li-img" /> <span class="li-span">戌狗</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx12.png" class="li-img" /> <span class="li-span"> 亥猪</span></li>
                                    <li><img src="__PUBLIC__/images/zodiac/sx1.png" class="li-img" /> <span class="li-span"> 子鼠</span></li>
                                </ul>
                            </div>
                            <div class="cui-mask"></div>
                        </div>
                    </div>
                    <div class="submit-wrap">
                        <div id="submit-btn">开始配对 </div>
                    </div>
                </div>
                <!-- 结果 -->
                <div id="reult-container">
                    <div class="pdxz mt10">
                        <span class='result-title'>配对生肖</span>男牛 VS 女牛
                    </div>
                    <div class="pdxz mt10">
                        <span class='result-title'>结果评述</span>
                        <div class='text-indent'>什么没哪里里大声道什么没哪里里大声道什么没哪里里大声道什么没哪里里大声道什么没哪里里大声道</div>
                    </div>
                    <div class="submit-wrap">
                        <div id="submit-btn" onclick="peidui()">我也要配对</div>
                    </div>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            var myScrollb;
            var myScrollg;
            var liheight = document.querySelector('.ul-b').firstElementChild.clientHeight;
            var gid = 1 + 1;
            var bid = 1 + 1;
            var initScoll = -1 * liheight;
            function loaded() {
                /* 男生 */
                myScrollb = new IScroll('#wrapper-b', {
                    scrollX: false,
                    scrollY: true,
                    momentum: false,
                    snap: false,
                    snapSpeed: 400,
                    keyBindings: true
                });

                myScrollb.on('scrollEnd', function() {
                    checkScoll(myScrollb, 0);
                });
                /* 女孩*/
                myScrollg = new IScroll('#wrapper-g', {
                    scrollX: false,
                    scrollY: true,
                    momentum: false,
                    snap: false,
                    snapSpeed: 400,
                    keyBindings: true
                });

                myScrollg.on('scrollEnd', function() {
                    checkScoll(myScrollg, 1);
                });

                function init() {
                    myScrollb.scrollBy(0, initScoll);
                    myScrollg.scrollBy(0, initScoll);
                    $('.activefnt-b').removeClass('activefnt-b');
                    $('.ul-b li').eq(1 + 1).find('span').addClass('activefnt-b');
                    $('.activefnt-g').removeClass('activefnt-g');
                    $('.ul-g li').eq(1 + 1).find('span').addClass('activefnt-g');
                }
                init();

                function checkScoll(scroll, flg) {
                    y = scroll.y;
                    absy = Math.abs(y);
                    if (absy % liheight >= liheight / 2) {
                        scollup = absy % liheight - liheight;
                        scroll.scrollBy(0, scollup);
                        console.log('absy:' + absy % liheight + 'scollup:' + scollup)
                    }
                    if (absy % liheight > 0 && absy % liheight < liheight / 2) {
                        scolldown = absy % liheight;
                        scroll.scrollBy(0, scolldown);
                        console.log('absy:' + absy % liheight + 'scolldown:' + scolldown)
                    }
                    absy = Math.abs(y);
                    if (absy < liheight) {
                        index = 1;
                    } else {
                        index = Math.round(absy / liheight) + 1;
                    }
                    index = Math.round(absy / liheight) + 1;
                    if (!flg) {
                        $('.activefnt-b').removeClass('activefnt-b');
                        $('.ul-b li').eq(index).find('span').addClass('activefnt-b');
                        bid = index;
                    } else {
                        $('.activefnt-g').removeClass('activefnt-g');
                        $('.ul-g li').eq(index).find('span').addClass('activefnt-g');
                        gid = index;
                    }
                    console.log('滚动距离：' + y + '校正后距离：' + scroll.y + "当前选中：" + index)
                    console.log(scroll.y)
                }
            }

            $('#submit-btn').on('click',function(){
                console.log('bid:' + bid + 'gid:' + gid)
                $('#select-container').hide();
                $('#reult-container').show();
            })

            String.prototype.temp = function(obj) {
                return this.replace(/\##\w+\##/gi, function(matchs) {
                    var returns = obj[matchs.replace(/\##/g, "")];
                    return (returns + "") == "undefined" ? "" : returns;
                });
            };
            function peidui() {window.location = "<!--{:U('Zodiac/zodiacPeidui','',false)}-->";}
	    </script>
    </body>
</html>