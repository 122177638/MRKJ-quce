<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
	<meta name="viewport" content="width=device-width,initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-touch-fullscreen" content="yes">
	<meta name="format-detection" content="telephone=no">
    <title>趣味心理测试</title>
	<!--[if lt IE 9]>  
		<script src="http://cdn.bootcss.com/html5shiv/r29/html5.js"></script>
		<script src="https://cdn.bootcss.com/respond.__PUBLIC__/js/1.4.2/respond.min.js"></script>    
    <![endif]-->
    <script src="__PUBLIC__/js/rem.js"></script>
    <script src="__PUBLIC__/js/vue.min.js"></script>
    <script src="__PUBLIC__/js/jquery.min.js"></script>
    <script src="__PUBLIC__/js/echarts.min.js"></script>
    <style>
        *{margin:0;padding:0;}
        .result_item{
            padding:0.4rem;
            box-sizing: border-box;
            background:url('__PUBLIC__/images/cstest/border_bg.png') no-repeat;
            background-size:100% 100%;
        }
        .result_title{
            font-size:0.36rem;
            color: #000000;
            text-align: center;
            text-shadow: 2px 2px 4px rgb(82, 80, 81);
        }
        .result_content{
            font-size:0.3rem;
            color:#333333;
            padding:0.3rem;
            text-indent: 2em;
            border:1px solid #dddddd;
            border-radius: 0.1rem;
            /* box-shadow:0 0 20px 3px rgb(83, 83, 85); */
            position: relative;
        }
        .result_promt{
            font-size:0.28rem;
            color:#333333;
            padding:0.2rem;
            line-height: 1.5;
            margin:0.4rem 0;
        }
        /* .result_list{
            padding:0.2rem 0.6rem;
            font-size:0.28rem;
            color:#333333;
            line-height: 1.8;
        }
        .result_list li{} */
        .result_xing{display: flex;justify-content: center;align-items: center;list-style: none;margin:0.2rem 0;}
        .result_xing .xing{
            width:0.48rem;
            height:0.48rem;
            background:url('__PUBLIC__/images/cstest/wujiaoxing.png') no-repeat;
            background-size:100% 100%;
        }

    </style>
</head>
<body>
    <div id="app">
        <div class="result_container">
            <div class="result_promt">
                <p>你在本测试中守钱的能力为：{{result.zongfen}}分，处在人群{{numIf2(result.zongfen)}}的位置</p>
            </div>
            <div id="line_echart_x" style="width:100%;height:5rem;"></div>
            <div class="result_promt">
                <p>你在本测试中守钱的能力为：{{result.shouQfen}}分，处在人群{{numIf(result.shouQfen)}}的位置</p>
                <p>你在本测试中挣钱的能力为：{{result.zhuanQfen}}分，处在人群{{numIf(result.zhuanQfen)}}的位置</p>
            </div>
            <div id="line_echart_y" style="width:100%;height:4rem;"></div>
            <div class="result_promt">本次财商报告的解读，分为消费观念及水平、投资眼光，执行力及自制力、未来规划、冒险精神五个分能力模型。</div>
            <!-- <ul class="result_list">
                <li>本次测试消费观念得分：{{result.xiaofei.fraction}}分，满分12分。</li>
                <li>本次测试投资眼光得分：{{result.touzi.fraction}}分，满分12分。</li>
                <li>本次测试执行力与自制力得分：{{result.zhixing.fraction}}分，满分12分。</li>
                <li>本次测试未来规划得分：{{result.weilai.fraction}}分，满分12分。</li>
                <li>本次测试冒险精神得分：{{result.maoxian.fraction}}分，满分12分。</li>
            </ul> -->
            <div id="radar_eachart" style="width:100%;height:4.5rem;"></div>
            
            <div class="result_wrap">
                <ul class="result_item">
                    <div class="result_title">一、{{result.xiaofei.title}}</div>
                    <ul class="result_xing"><li class="xing" v-for="item in result.xiaofei.fraction"></li></ul>
                    <div class="result_content">
                        <p>{{result.xiaofei.text}}</p>
                    </div>
                </div>
                <div class="result_item">
                    <div class="result_title">二、{{result.touzi.title}}</div>
                    <ul class="result_xing"><li class="xing" v-for="item in result.touzi.fraction"></li></ul>
                    <div class="result_content">
                        <p>{{result.touzi.text}}</p>
                    </div>
                </div>
                <div class="result_item">
                    <div class="result_title">三、{{result.zhixing.title}}</div>
                    <ul class="result_xing"><li class="xing" v-for="item in result.zhixing.fraction"></li></ul>
                    <div class="result_content">
                        <p>{{result.zhixing.text}}</p>
                    </div>
                </div>
                <div class="result_item">
                    <div class="result_title">四、{{result.weilai.title}}</div>
                    <ul class="result_xing"><li class="xing" v-for="item in result.weilai.fraction"></li></ul>
                    <div class="result_content">
                        <p>{{result.weilai.text}}</p>
                    </div>
                </div>
                <div class="result_item">
                    <div class="result_title">五、{{result.maoxian.title}}</div>
                    <ul class="result_xing"><li class="xing" v-for="item in result.maoxian.fraction"></li></ul>
                    <div class="result_content">
                        <p>{{result.maoxian.text}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        var vm = new Vue({
            el:'#app',
            data:{
                result:''
            },
            mounted() {
                this.ajaxData();
                
            },
            methods:{
                numIf(num){
                    if(num <= 4){
                        return '偏低'
                    }else if(num > 4 && num <= 8){
                        return '中等'
                    }else if(num > 8){
                        return '高等'
                    }
                },
                numIf2(num){
                    if(num <= 40){
                        return '偏低'
                    }else if(num > 40 && num <= 80){
                        return '中等'
                    }else if(num > 80){
                        return '高等'
                    }
                },
                ajaxData(){
                    var _self = this;
                    $.post("<!--{:U('Paycs/jieguoyeJson','',false)}--> ",function(data){
                        _self.result = JSON.parse(data);
                        _self.$nextTick(function(){_self.echartsInit();})
                    })
                },
                echartsInit(){
                    var _self  = this;
                    let line_echart_y = echarts.init(document.getElementById('line_echart_y'));
                    let option = {
                        title:{
                            text:'财商得分与总分对比',
                            left:'50%',
                            textAlign:'center',
                        },
                        tooltip : {
                            trigger: 'axis',
                            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                type : 'line'        // 默认为直线，可选为：'line' | 'shadow'
                            }
                        },
                        grid: {
                            left: '10%',
                            right: '10%',
                            bottom: '0%',
                            containLabel: true
                        },
                        xAxis : [
                            {
                                type : 'category',
                                data : ['挣钱能力', '守钱能力'],
                                axisTick: {
                                    alignWithLabel: true
                                },
                                
                            }
                        ],
                        yAxis : [
                            {
                                min: 0,
                                max:10,
                            }
                        ],
                        series : [
                            {
                                name:'得分',
                                type:'bar',
                                barWidth: '30%',
                                data:[_self.result.shouQfen,_self.result.zhuanQfen],
                                itemStyle:{
                                normal: {
                                        // 随机显示
                                        // color:function(d){return "#"+Math.floor(Math.random()*(256*256*256-1)).toString(16);}
                    
                                        // 定制显示（按顺序）
                                        color: function(params) { 
                                            var colorList = ['#404040','#7F6000']; 
                                            return colorList[params.dataIndex] 
                                        }
                                    },
                                },
                            }
                        ]
                    };
                    line_echart_y.setOption(option)
                    
                    let line_echart_x = echarts.init(document.getElementById('line_echart_x'));
                    let option2 = {
                        title:{
                            text:'财富得分',
                            left:'50%',
                            textAlign:'center',
                            textStyle: {
                            }
                        },
                        legend:{
                            bottom:0,    
                        },
                        tooltip : {
                            trigger: 'axis',
                            axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                type : 'line'        // 默认为直线，可选为：'line' | 'shadow'
                            }
                        },
                        grid: {
                            show:true,
                            left: '1%',
                            right: '10%',
                            bottom: '15%',
                            containLabel: true,
                            tooltip:{
                                show:'axis',
                            }
                        },
                        xAxis : [
                            {
                                min:0,
                                max:100,
                            }
                        ],
                        yAxis : [
                            {
                                type : 'category',
                                data : ['总分','你的财富'],
                            }
                        ],
                        series : [
                            {
                                name:'得分',
                                type:'bar',
                                barWidth: '30%',
                                data:[100, _self.result.zongfen],
                                itemStyle:{
                                normal: {
                                        // 随机显示
                                        // color:function(d){return "#"+Math.floor(Math.random()*(256*256*256-1)).toString(16);}
                                        // 定制显示（按顺序）
                                        color: function(params) { 
                                            var colorList = ['#FFC000','#000000']; 
                                            return colorList[params.dataIndex] 
                                        }
                                    },
                                },
                            },
                        ]
                    };
                    line_echart_x.setOption(option2)
                    
                    let radar_eachart = echarts.init(document.getElementById('radar_eachart'));
                    let option3 = {
                        color: ['red'],
                        title:{
                            text:'财商能力分析图',
                            left:'50%',
                            textAlign:'center'
                        },
                        tooltip : {
                            trigger: 'axis',
                        },
                        radar: [
                            {
                                indicator: [
                                    {text: '消费', max: 12},
                                    {text: '投资眼光', max: 12},
                                    {text: '冒险精神', max: 12},
                                    {text: '未来规划', max: 12},
                                    {text: '执行力', max: 12}
                                ],
                                center: ['50%','58%'],
                                radius:60
                            },
                        ],
                        series : [
                            {
                                type: 'radar',
                                tooltip: {
                                    trigger: 'item'
                                },
                                itemStyle: {normal: {areaStyle: {type: 'default'}}},
                                data: [
                                    {
                                        value: [_self.result.xiaofei.fraction,_self.result.touzi.fraction,_self.result.maoxian.fraction,_self.result.weilai.fraction,_self.result.zhixing.fraction],
                                        name: '财商能力'
                                    }
                                ]
                            },
                        ]
                    };
                    radar_eachart.setOption(option3)
                }
            }
        })
        window.history.pushState(null,null,location.href);
        window.addEventListener('popstate',function(){
            window.location.href="<!--{:U('Index/mytest','',false)}-->"
        })
    </script>
</body>
</html>